@ingroup group_CoreTools_Documentation

----------------------------
核心工具库模块

核心工具库（CoreTools）封装了引擎的核心工具。以实现 RAII（资源获取即初始化）和RRID（资源释放即析构）。
核心工具库位于引擎的第二层，只允许调用引擎中的System库，并使用boost和stlsoft工具库。
主要有类不变式、断言、单例基类、异常、文件管理、日志管理和单元测试框架等工具类。

----------------------------
1.	Helper（帮助）

封装了核心工具库所需要的常量和宏，所有宏按照标准使用全大写。
主要包括断言、类不变式、测试、导出、单元测试套件、日志、内存管理相关的宏。
（1） 函数描述宏：定义了函数名字、文件名字和行数。
（2） 测试断言宏：单元测试类所需要的测试断言宏，包括条件测试和异常测试。
（3） 类不变式宏: 类不变式所需要的宏，根据各模块进行定义。
（4） 断言系统宏: 断言不变式所需要的宏，根据各模块进行定义。
（5） 导出宏：各个模块所需要的导出宏，以标志这个类跨模块的可见性。还定义了导出类的共享类型。
（6） 日志宏：定义打印日志所需要的宏。
（7） 初始终止宏：定义类加入初始化器和终止器所需要的宏。
（8） 主函数宏：main函数所需要的宏。
（9） 成员函数宏：成员函数所需要的宏。
（10）运行时类型识别宏：定义RIIT时所需要的宏。
（11）单例宏：单例类所需要的宏。
（12）名称宏：对象系统查找某一名称的类所需要的宏。
（13）字节流宏：供流系统使用的宏。
（14）单元测试套件宏：单元测试框架所需要的宏。
（15）智能指针宏：智能指针系统使用的宏。
（16）异常宏：抛出和捕获异常所需要的宏。
（17）属性宏：属性系统所需要的宏。
（18）用户宏：用于是否使用静态库、断言和类不变式等用户设定。
（19）while循环安全计数器宏：while循环安全计数器宏。
（20）获取数值所需的位：获取数值所需的位。
（21）哈希组合：生成哈希值的帮助函数。

----------------------------
2.  Contract（契约）

封装了类不变式和断言的实现。
（1） 函数描述：封装了函数名字、文件名字和行数。由于FunctionDescribed保存的是__func__和__FILE__，故使用const char*而不是string来传递参数。 
（2） 资源自动管理：实现一个离开作用域必定调用的范围退出类。
（3） 触发断言：封装了触发断言的函数。
（4） 类不变式：验证类不变式的工具类。所有类在OPEN_CLASS_INVARIANT开启时都会使用它，所以它是需要高性能的类。
			    它使用枚举，而不是继承来区分仅断言后置条件的类不变式（const成员调用）和完全的类不变式（非const成员调用）。
				仅断言前置条件的类不变式，目前没有使用，仅为对称而保留。
（5） Noexcept：捕获所有异常消除编译器警告的工具类。
（6） 断言：断言工具类，在开启OPEN_ASSERT时才会使用断言，断言类使用可变数目的参数。 
（7） Impl特征类：Impl特征类通过静态断言使Impl类正确使用复制构造函数、延迟复制和非常量成员函数。

----------------------------
3.	Base（基础）

封装了单例基类、唯一ID管理、版本信息和动态链接库实现。
单例基类需要手动控制创建和销毁。这个实现用于控制单例的初始化和析构的顺序，以避免由于类初始化或析构顺序不同而导致的错误。

（1）单例基类：自动Singleton基类的实现。
（2）唯一ID管理：生成各系统所需要的唯一ID。
（3）版本信息：获取主版本号、次版本号、内部版本号和修订号。
（4）动态链接库：开启和关闭动态链接库，获取进程地址。
（5）跨度迭代器：用于封装迭代器的运算。
（6）静态单例：通过局部静态对象只初始化一次的标准而实现的单例。

----------------------------
4.	CharacterString（字符串）

封装了字符串的相关调用，包括格式化错误消息，字符串转换和忽略大小写的字符类。
由于异常类可能需要使用FormatErrorMessage格式化错误消息，所以FormatErrorMessage不抛出异常。FormatErrorMessage失败时，将错误写入日志文件。
字符串库的其他调用可能抛出异常。

（1）格式化错误消息：格式化Windows错误消息。
（2）字符串转换：wchar_t和char相互的转换。
（3）忽略大小写的字符类：一个忽略大小写的string。
（4）字符串工具：处理字符串的工具类。
（5）代码映射：读取一个utf8格式的json文件，将键映射为值。
（6）Base64转换：base64 编码。

----------------------------
5.	Exception（异常）

封装了异常类，它没有继承自std::exception。用户需要同时捕获标准异常和CoreTools::Error异常。
用户通过继承CoreTools::Error类来创建属于自己模块的异常类。

（1）错误码：保存系统最近的一个错误码。
（2）错误：异常基类。
（3）游戏异常：带枚举的异常类。

----------------------------
6.	Console（控制台）

封装了控制台的开启和关闭等相关调用，及它的颜色变化。

（1）控制台实例：获取控制台输出或输入的句柄。
（2）控制台颜色：控制台的颜色变化类。
（3）控制台创建：控制台创建类。

----------------------------
7.	Threading（线程） 

封装了线程的相关调用，包括创建线程、锁、事件对象和信号量。如非必要，请直接使用标准库。

（1）互斥锁：对互斥锁的封装。
（2）事件：对事件的封装。
（3）信号量：对信号量的封装。
（4）线程管理：对线程创建的封装。 

----------------------------
8.	FileManager（文件管理）

封装了文件读写、缓冲区读写、字节交换、异步文件IO和环境变量等相关调用。

（1） 字节序：对字节交换进行封装。
（2） 文件缓冲区：对文件读取和写入的缓冲区进行封装。
（3） C文件管理：封装C函数形式的文件管理。
（4） C++文件管理：封装C++类形式的文件管理。
（5） 删除文件工具：对删除文件工具进行封装。
（6） 复制文件工具：对复制文件工具进行封装。
（7） Handle文件管理：封装Windows操作系统的文件管理。
（8） 文件管理：封装操作系统的文件管理。
（9） 目录管理：封装操作系统的目录管理。
（10）缓冲区IO：缓冲区的读取和写入。
（11）环境变量：对环境变量进行封装。
（12）文件读取存入异步管理：对文件的读取和存入进入异步的处理。
（13）随机文件名：生成随机文件名字。

----------------------------
9. TextParsing（文本解析）

文本解析类，对配置进行读取。

（1） 简易zip管理：对Miniz库进行C++封装。
（2） 简易csv管理：对pugixml库进行C++封装。
（3） Excel转csv功能：使用OpenXLSX和简易csv实现转换功能。
（4） csv解析：实现csv配置自动化代码和解析csv功能。
（5） csv转换成枚举：实现csv配置自动化代码转换成枚举的功能。
（6） json解析：实现json配置自动化代码和解析json功能。 
（7） json转换成枚举：实现json配置自动化代码转换成枚举的功能。 
（8） xml解析：实现xml配置自动化代码和解析xml功能。 
（9） ini解析：实现ini配置自动化代码和解析ini功能。 
（10）info解析：实现info配置自动化代码和解析info功能。 

----------------------------
10.	LogManager（日志管理） 

封装了日志系统的实现。实现一个通过配置可修改日志等级、显示内容的日志系统。

（1）日志过滤器：对日志过滤器的名称和枚举进行一对一的映射。
（2）日志等级管理：对日志等级器的名称和枚举进行一对一的映射。
（3）日志消息：对日志消息进行拼接，加上日志前缀和后缀。
（4）日志控制台颜色管理：对日志打印到控制台的颜色进行管理。
（5）附加器：对日志打印到控制台或文件进行管理。
（6）日志记录器：对日志过滤器和等级进行管理。
（7）日志文件名：对日志文件名进行封装。
（8）日志IO管理：对日志的输出进行封装。
（9）日志管理：日志单例，管理日志的输出。

----------------------------
11.	DataTypes（数据类型）

封装了最小堆、元组、表等数据类型的实现。数学库会使用这些类型，所以它们是需要高性能的。

（1）元组：封装了元组的实现。
（2）表：封装了表的实现。
（3）最小堆：封装了最小堆的实现。
（4）无锁数据结构：封装了一个无锁数据结构的实现。
（5）线程安全容器：封装线程安全容器的实现。

----------------------------
12.	MemoryTools（内存工具）

封装了内存管理、智能指针比较、多维数组的实现。 

（1）堆分配：封装Windows平台的堆分配管理。
（2）指针比较：对智能指针比较指针实际指向的值。
（3）多维数组：一个多维数组的实现。 

----------------------------
13.	ObjectSystems（对象系统）

包含引擎的面向对象结构，如运行期类型信息、独立命名、流操作、premain初始化操作以及postmain终止操作。

（1） 初始终止器：premain初始化操作以及postmain终止操作。
（2） Rtti：对象系统进行时信息。
（3） 对象名字：对象系统名字的封装。
（4） 对象系统文件流：实现对象系统从文件加载和保存。
（5） 对象系统管理器：实现对象系统的管理。

----------------------------
14.	Time（时间）

封装了一个计时器的实现。可获得间隔时间和当前时间。

（1）时间：可获得间隔时间和当前时间。
（2）计时器：包含一个秒计时器和一个毫秒计时器。
（3）定制时间器：另一个计时器的实现。
（4）时间信息：实现通过时间戳获取相关时间的信息，包含年、月、日，当天零点时间戳，本周日零点时间戳等相关信息。

----------------------------
15.	ReportOutput（报告输出）

封装了单元测试所需的报告输出的实现。

（1）等长报告输出：将等长报告信息输出至指定的ostream。
（2）测试失败报告输出：将测试失败报告信息输出至指定的ostream。
（3）测试套件报告输出：将测试套件报告信息输出至指定的ostream。

----------------------------
16.	UnitTestSuite（单元测试）

封装了一个单元测试的框架实现。包括单元测试套件和单元测试，使用组合模式进行封装。

（1）单元测试：封装了一个单元测试的实现。
（2）单元测试套件：封装了一个单元测试套件的实现。

----------------------------
17.	TemplateTools（模板工具）

封装了一些模板工具，包括编译期三角函数计算，约束等。
这个模块主要用于示例，部分示例在boost、stlsoft库中存在合适的替代。

（1） 约束：几个模板约束的实现。
（2） 阶乘：阶乘的模板实现。
（3） 斐波那契数：斐波那契数的模板实现。
（4） 参数类型：一个自动选择参数类型的实现。
（5） 三角函数：几个三角函数的模板实现。
（6） 指针比较：指针比较对象的值，而不是指针的地址。
（7） IfThenElse：一个IfThenElse的实现。
（8） 数学函数：几个数学函数的模板实现。
（9） 转换：几种特殊转换的封装。
（10）自增自减：自增自减的模板实现。
（11）真实地址：一个获取真实地址的实现。
（12）Tiny： 一个Tiny的实现。

----------------------------
18.	Command（命令行）

封装了main，WinMain的命令行的解析。命令可以有参数或不带参数，参数类型为数值或字符串。

（1）命令行参数：封装了命令行参数。
（2）命令行行信息：封装了命令行行信息。
（3）命令行处理：封装了命令行句柄。

----------------------------
19.	MainFunctionHelper（主函数帮助）

封装了CoreTools库所需要的主函数帮助类，包括main和DllMain。main主函数默认初始化两个单例：唯一ID管理器、日志。

（1）测试信息帮助：封装单元测试所需要的信息。
（2）动态链接库函数帮助：封装动态链接库初始化和销毁操作。
（3）主函数帮助：封装main函数初始化和销毁操作。
（4）主函数测试帮助：封装单元测试的初始化和销毁操作。

----------------------------
20.	ModuleInitializerTerminator（模块自动及终止）

封装了模块的自动加载和终止。

（1）模块配置：对配置进行读取。 
（2）模块自动加载及终止：封装模块的加载和终止。
（3）模块重载：实现终止已加载的模块，并加载新的模块。

----------------------------
21.	SyntacticParser（语法分析器）

封装了语法分析器。

（1）语法分析器：实现一个语法分析器。

----------------------------
22.	PerformanceProfiler（性能剖析/统计采集）

封装了性能剖析和统计采集。

（1）性能剖析器：实现一个性能剖析器。
（2）统计采集：实现一个统计采集类。 

----------------------------
23.	EngineConfiguration（引擎配置）

封装了引擎配置。

（1）字符串替换：根据配置文件实现字符串替换的功能。
（2）引擎配置：实现引擎配置的加载。

----------------------------
24.	Properties（属性）

封装了属性。

（1）只读属性：封装了只读属性。
（2）只写属性：封装了只写属性。
（3）读写属性：封装了读写属性。
（4）静态变量只读属性：封装了静态变量的只读属性。
（5）静态变量只写属性：封装了静态变量的只写属性。
（6）静态变量读写属性：封装了静态变量的读写属性。

----------------------------
25.	CyclicRedundancyCheck（CRC）

封装循环冗余校验（CRC）的实现。

（1）CheckSum校验码算法：CheckSum校验码生成。
（2）CRC16算法：封装各种CRC16算法。
（3）CRC32算法：封装各种CRC32算法。

----------------------------
26.	MessageEvent（消息事件）

封装了消息事件系统。一种为实体消息处理，一种为类监听事件处理。

（1）实体消息：实现实体消息处理。
（2）类监听事件：实现类监听事件处理。

----------------------------
27.	StateMachineManager（状态机）

封装了状态机的实现。

（1）状态机管理器：封装了一个状态机管理器。

----------------------------
28. Network（网络）

封装了网络的调用。

（1）网络：封装操作系统的网络实现。

----------------------------
29. Coroutine（协程）

封装了协程的调用。

（1）Coroutine：封装协程库的接口。

----------------------------